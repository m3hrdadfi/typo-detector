<h1 align="center">Typo Detector using Transformers ๐ฆ</h1>
<br/>


## English Version

### Dataset Information

For this specific task, I used [NeuSpell](https://github.com/neuspell/neuspell) dataset as my raw-data.

### Evaluation

The following tables summarize the scores obtained by model overall and per each class.

|       #      | precision |  recall  | f1-score |  support |
|:------------:|:---------:|:--------:|:--------:|:--------:|
|     TYPO     |  0.992332 | 0.985997 | 0.989154 | 416054.0 |
|   micro avg  |  0.992332 | 0.985997 | 0.989154 | 416054.0 |
|   macro avg  |  0.992332 | 0.985997 | 0.989154 | 416054.0 |
| weighted avg |  0.992332 | 0.985997 | 0.989154 | 416054.0 |


## Persian Version

<div dir="rtl">
ุชุดุฎุตโุฏููุฏู ุฎุทุงโูุง ุงููุงุ ุญุงุตู ุขููุฒุด ูุฏู ุจุด ุงุฒ ฑฐฐ ุณุงุนุช ุจุฑ ุฑู ุจุด ุงุฒ ฒ ูููู ุฏุชุง ุงุณุช. ุงู ูุฏู ุจุฑุง ุงุณุชูุงุฏู ุชุญููุงุช ู ููุงูุงุช ุจู ุตูุฑุช ุขุฒุงุฏ ุฏุฑ ุงุฎุชุงุฑ ูุญููู ูุฑุงุฑ ุฎูุงูุฏ ฺฏุฑูุช ููฺูู ุจุฑุง ุชุณุช ู ุงุณุชูุงุฏู ุจู ุตูุฑุช ุขุฒุงุฏ ุฏุฑ ูุงฺฏูฺฏโูุณ ูุงุจู ูุดุงูุฏู ุฎูุงูุฏ ุจูุฏ. ูู ูุงุฒู ุจู ุฐฺฉุฑ ุงุณุช ฺฉู ุงุณุชูุงุฏู ุงุฒ ูุฏู ุจุฑุง ูุตุงุฑู ุดุฎุตุ ุงุณุชุงุฑุชุงูพุ ุดุฑฺฉุช ู ุณุงุฒูุงู ู ุญุช ุจูุจูุฏ ูุฏู ู ูุฑูุด ุขู ููุทูุง ู ุญููุชุง ุฌุงุฒ ูุณุช ูู ุดูุง ูุชูุงูุฏ ุจุณุชู ุจู ุงุณุชูุงุฏู ุดุฎุต ู ุง ุงุจุนุงุฏ ูุฏู ฺฉุณุจ ู ฺฉุงุฑ ุฎูุฏุชุงู ูุงุณูุณ ุงู ูุฏู ุฑุง ุฎุฑุฏุงุฑ ฺฉูุฏ. ุงู ูุงุณูุณ ุดุงูู ุงุณุชูุงุฏู ุงุฒ ูุฏูุ ุชูููฺฏ ูุฏู ู ุฏูพูู ูุฏู ุฎูุงูุฏ ุจูุฏ.

- [ุงุณุชูุงุฏู ุดุฎุต](https://zarinp.al/377906)
- [ุงุณุชูุงุฏู ุฌูุช ุงุณุชุงุฑุชุงูพโูุง](https://zarinp.al/377907)
- [ุงุณุชูุงุฏู ุฌูุช ุดุฑฺฉุชโูุง ู ุณุงุฒูุงูโูุง](https://zarinp.al/377908)
 
ูพุณ ุงุฒ ุฎุฑุฏุงุฑ ูุงุณูุณ ุจุฑ ุญุณุจ ุงุทูุงุนุงุช ูุงุฑุฏ ุดุฏู ุจุง ุดูุง ุชูุงุณ ุฎูุงูู ฺฏุฑูุชุ ุฌูุช ุชูุธู ููุช ูพุดุชุจุงู ุขููุงู ุฌูุช ููุงููฺฏ ูุฏู ูุชูุงุณุจ ุจุง ููุน ฺฉุณุจโูโฺฉุงุฑ ุดูุง.
 
 **ูุงุฒู ุจู ุฐฺฉุฑ ุงุณุช ุจูุจูุฏ ู ุงุฑุชูุง ูุฏู ุฌุฒ ุฏุฑ ููุงุฑุฏ ุฎุฑุฏุงุฑ ุดุฏู ูุงุณูุณ (ุดุฎุตุ ุงุณุชุงุฑุชุงูพุ ุดุฑฺฉุช ู ุณุงุฒูุงู) ู ูุชูุงุณุจ ุจุง ููุงู ุฒููู ูุฌุงุฒ ูโุจุงุดุฏ. ุดูุง ููโุชูุงูุฏ ูุฏู ุฑุง ุจูุจูุฏ ุฏุงุฏู ู ุงุฒ ุขู ุจู ูุฑ ุทุฑู ุฏุฑุขูุฏุฒุง ฺฉูุฏ.**
 
</div>

## Dataset Information

I made a synthetic data for this specific task.


## Evaluation

The following tables summarize the scores obtained by model overall and per each class.

|       #      | precision |  recall  | f1-score |  support |
|:------------:|:---------:|:--------:|:--------:|:--------:|
|     TYPO     |  0.984098 | 0.984047 | 0.984073 | 307088.0 |
|   micro avg  |  0.984098 | 0.984047 | 0.984073 | 307088.0 |
|   macro avg  |  0.984098 | 0.984047 | 0.984073 | 307088.0 |
| weighted avg |  0.984098 | 0.984047 | 0.984073 | 307088.0 |



## How to use

You use this model with Transformers pipeline for NER (token-classification).

### Installing requirements

```bash
pip install transformers
```

### Prediction using pipeline

```python
import torch
from transformers import AutoConfig, AutoTokenizer, AutoModelForTokenClassification
from transformers import pipeline


model_name_or_path = "m3hrdadfi/typo-detector-distilbert-en"
# model_name_or_path = "m3hrdadfi/typo-detector-distilbert-fa"
config = AutoConfig.from_pretrained(model_name_or_path)
tokenizer = AutoTokenizer.from_pretrained(model_name_or_path)
model = AutoModelForTokenClassification.from_pretrained(model_name_or_path, config=config)
nlp = pipeline('token-classification', model=model, tokenizer=tokenizer, aggregation_strategy="average")
```

**For English:**
```python
sentences = [
 "He had also stgruggled with addiction during his time in Congress .",
 "The review thoroughla assessed all aspects of JLENS SuR and CPG esign maturit and confidence .",
 "Letterma also apologized two his staff for the satyation .",
 "Vincent Jay had earlier won France 's first gold in gthe 10km biathlon sprint .",
 "It is left to the directors to figure out hpw to bring the stry across to tye audience .",
]

for sentence in sentences:
    typos = [sentence[r["start"]: r["end"]] for r in nlp(sentence)]

    detected = sentence
    for typo in typos:
        detected = detected.replace(typo, f'<i>{typo}</i>')

    print("   [Input]: ", sentence)
    print("[Detected]: ", detected)
    print("-" * 130)
```

Output:
```text
   [Input]:  He had also stgruggled with addiction during his time in Congress .
[Detected]:  He had also <i>stgruggled</i> with addiction during his time in Congress .
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  The review thoroughla assessed all aspects of JLENS SuR and CPG esign maturit and confidence .
[Detected]:  The review <i>thoroughla</i> assessed all aspects of JLENS SuR and CPG <i>esign</i> <i>maturit</i> and confidence .
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  Letterma also apologized two his staff for the satyation .
[Detected]:  <i>Letterma</i> also apologized <i>two</i> his staff for the <i>satyation</i> .
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  Vincent Jay had earlier won France 's first gold in gthe 10km biathlon sprint .
[Detected]:  Vincent Jay had earlier won France 's first gold in <i>gthe</i> 10km biathlon sprint .
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  It is left to the directors to figure out hpw to bring the stry across to tye audience .
[Detected]:  It is left to the directors to figure out <i>hpw</i> to bring the <i>stry</i> across to <i>tye</i> audience .
----------------------------------------------------------------------------------------------------------------------------------
```

**For Persian:**
```python
sentences = [
    'ู ฺฏูููู ุฏูุฑ ููุงุจฺฉู ุบูู " ุจูุฏ .',
    'ุดูุงู ุชุงุฑฺฉุ ุฏูุณุชู ูุฏู ูู',
    'ุฏุฑ ุณุฏุง ุณฺฉูุชุ ุฏุฑ ุฑูุงุฆ ูุงุขุฑุงู ุชููุง ุบุฏู ูโุฒูู',
    'ุฒุฑ ูููู ููุฑ ฺุฑุงุบ ุฎุงุจุงู',
    'ู ุฏุฑ ุตุฏุง ุณฺฉูุช ุถูุถูู ู ุดูุฏ',
    'ูุฑุงุณุชุงุฑ ูุชู ุจุฑุง ููุณูุฏฺฏุงู ุ ุฑูุฒูุงูู ูฺฏุงุฑุงู ู ุงุณุญุงุจ ุฑุตุงููู',
    'ุฌฺฉู ุงุจูุงูููุงุณู ูุฑุฐุฏูุณ ุณุงุนุฑ ุญูุงุต ุณุตุฑุง ุบุฑู ุฌูุงุฑู ุงุณุชุช ( ุชูุงููุง ููุท )',
    'ูุงู ุนุงุดู ู ูุนุดูู ูฺ ูุงุฆู ูุณุช',
    'ุนุฐุงูุง ุฒูุฏ ุญุฒู ุจุฑุง ูุนุฏู ุจูุชุฑ ุงุณุช .',
    'ุบุถุง ุฎูุฑุฏู ู ุฑูุชู .',
    'ุงู ุดุงฺฏุฑุฏ ุฎุงุต ู ุนูุฑุจ ุจู ุงุณุชุงุฏ ุจูุฏ .'
]

for sentence in sentences:
    typos = [sentence[r["start"]: r["end"]] for r in nlp(sentence)]

    detected = sentence
    for typo in typos:
        detected = detected.replace(typo, f' ู {typo} ู ')

    print("   [Input]: ", sentence)
    print("[Detected]: ", detected)
    print("-" * 130)
```

Output:
```text
   [Input]:  ู ฺฏูููู ุฏูุฑ ููุงุจฺฉู ุบูู " ุจูุฏ .
[Detected]:  ู ฺฏูููู  ู ุฏูุฑ ู   ู ููุงุจฺฉู ู   ู ุบูู ู  " ุจูุฏ .
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  ุดูุงู ุชุงุฑฺฉุ ุฏูุณุชู ูุฏู ูู
[Detected]:   ู ุดูุงู ู  ุชุงุฑฺฉุ  ู ุฏูุณุชู ู  ูุฏู ูู
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  ุฏุฑ ุณุฏุง ุณฺฉูุชุ ุฏุฑ ุฑูุงุฆ ูุงุขุฑุงู ุชููุง ุบุฏู ูโุฒูู
[Detected]:  ุฏุฑ  ู ุณุฏุง ู  ุณฺฉูุชุ ุฏุฑ  ู ุฑูุง ู  ู ุฆ ู   ู ูุงุขุฑุงู ู  ุชููุง  ู ุบุฏู ู  ูโุฒูู
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  ุฒุฑ ูููู ููุฑ ฺุฑุงุบ ุฎุงุจุงู
[Detected]:  ุฒุฑ  ู ูููู ู  ููุฑ ฺุฑุงุบ ุฎุงุจุงู
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  ู ุฏุฑ ุตุฏุง ุณฺฉูุช ุถูุถูู ู ุดูุฏ
[Detected]:  ู ุฏุฑ ุตุฏุง ุณฺฉูุช  ู ุถูุถูู ู  ู ุดูุฏ
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  ูุฑุงุณุชุงุฑ ูุชู ุจุฑุง ููุณูุฏฺฏุงู ุ ุฑูุฒูุงูู ูฺฏุงุฑุงู ู ุงุณุญุงุจ ุฑุตุงููู
[Detected]:   ู ูุฑุงุณุชุงุฑ ู  ูุชู ุจุฑุง ููุณูุฏฺฏุงู ุ ุฑูุฒูุงูู ูฺฏุงุฑุงู ู  ู ุงุณุญุงุจ ู   ู ุฑุตุงููู ู 
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  ุฌฺฉู ุงุจูุงูููุงุณู ูุฑุฐุฏูุณ ุณุงุนุฑ ุญูุงุต ุณุตุฑุง ุบุฑู ุฌูุงุฑู ุงุณุชุช ( ุชูุงููุง ููุท )
[Detected]:   ู ุฌฺฉู ู   ู ุงุจูุงูููุงุณู ู   ู ูุฑุฐุฏูุณ ู   ู ุณุงุนุฑ ู   ู ุญูุงุต ู   ู ุณุตุฑุง ู   ู ุบุฑู ู   ู ุฌูุงุฑู ู   ู ุงุณุชุช ู  (  ู ุชูุงููุง ู   ู ููุท ู  )
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  ูุงู ุนุงุดู ู ูุนุดูู ูฺ ูุงุฆู ูุณุช
[Detected]:  ูุงู ุนุงุดู ู ูุนุดูู ูฺ  ู ูุง ู  ู ุฆ ู  ู ู ู  ูุณุช
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  ุนุฐุงูุง ุฒูุฏ ุญุฒู ุจุฑุง ูุนุฏู ุจูุชุฑ ุงุณุช .
[Detected]:   ู ุนุฐุงูุง ู  ุฒูุฏ  ู ุญุฒู ู  ุจุฑุง ูุนุฏู ุจูุชุฑ ุงุณุช .
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  ุบุถุง ุฎูุฑุฏู ู ุฑูุชู .
[Detected]:   ู ุบุถุง ู  ุฎูุฑุฏู ู ุฑูุชู .
----------------------------------------------------------------------------------------------------------------------------------
   [Input]:  ุงู ุดุงฺฏุฑุฏ ุฎุงุต ู ุนูุฑุจ ุจู ุงุณุชุงุฏ ุจูุฏ .
[Detected]:  ุงู ุดุงฺฏุฑุฏ ุฎุงุต ู  ู ุนูุฑุจ ู  ุจู ุงุณุชุงุฏ ุจูุฏ .
----------------------------------------------------------------------------------------------------------------------------------
```
